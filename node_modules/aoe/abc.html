<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let i= 0,start= 0,r=new Date().getTime();
    requestAnimationFrame(function step(time){


        let now=new Date().getTime()
        console.log(i++,(time-start).toFixed(4),now-r)
        r=now
        start=time
        if(i<300) {
            requestAnimationFrame(step)
        }
        else{
            console.log('end')
        }
    })
</script>
</body>
</html>